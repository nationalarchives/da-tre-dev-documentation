# TRE v2 Deployment Guide

TRE v2 is now deployed using GitHub Action workflows.

Specific deployment documentation is available at the following locations: 

| Repository/Guide | Description | GitHub Action Workflow(s) |
| ---------------- | ----------- | ------------------------- |
| [tre-terraform-platform](https://github.com/nationalarchives/tre-terraform-platform) | Terraform deployment of TRE platform-level AWS resources | [tre-platform-deployment.yml](https://github.com/nationalarchives/tre-terraform-platform/blob/main/.github/workflows/tre-platform-deployment.yml) |
| [tre-terraform-environments](https://github.com/nationalarchives/tre-terraform-environments) | Terraform deployment of TRE application-level resources | [tf-deployment.yml](https://github.com/nationalarchives/tre-terraform-environments/blob/main/.github/workflows/tf-deployment.yml) |
| [tre-fn-vb-bag-validation](https://github.com/nationalarchives/tre-fn-vb-bag-validation) | Deploys bag-validation Docker image to ECR | [build-deploy-and-tag-ecr-image.yml](https://github.com/nationalarchives/tre-fn-vb-bag-validation/blob/main/.github/workflows/build-deploy-and-tag-ecr-image.yml) |
| [tre-fn-vb-bag-files-validation](https://github.com/nationalarchives/tre-fn-vb-bag-files-validation) | Deploys bag-files-validation Docker image to ECR | [build-deploy-and-tag-ecr-image.yml](https://github.com/nationalarchives/tre-fn-vb-bag-files-validation/blob/main/.github/workflows/build-deploy-and-tag-ecr-image.yml) |
| [tre-fn-dpsg-bag-to-dri-sip](https://github.com/nationalarchives/tre-fn-dpsg-bag-to-dri-sip) | Deploys DPSG Docker image to ECR | [build-deploy-and-tag-ecr-image.yml](https://github.com/nationalarchives/tre-fn-dpsg-bag-to-dri-sip/blob/main/.github/workflows/build-deploy-and-tag-ecr-image.yml) |
| [tre-fn-forward](https://github.com/nationalarchives/tre-fn-forward) | Deploys message-forward Docker image to ECR | [build-deploy-and-tag-ecr-image.yml](https://github.com/nationalarchives/tre-fn-forward/blob/main/.github/workflows/build-deploy-and-tag-ecr-image.yml) |
| [tre-fn-sqs-sf-trigger](https://github.com/nationalarchives/tre-fn-sqs-sf-trigger) | Deploys sqs-forward Docker image to ECR | [build-deploy-and-tag-ecr-image.yml](https://github.com/nationalarchives/tre-fn-sqs-sf-trigger/blob/main/.github/workflows/build-deploy-and-tag-ecr-image.yml) |
| [tre-fn-dlq-slack-alerts](https://github.com/nationalarchives/tre-fn-dlq-slack-alerts) | Deploys dlq-slack-alert Docker image to ECR | [build-deploy-and-tag-ecr-image.yml](https://github.com/nationalarchives/tre-fn-dlq-slack-alerts/blob/main/.github/workflows/build-deploy-and-tag-ecr-image.yml) |
| [tre-lib-event-library](https://github.com/nationalarchives/tre-lib-event-library) | Deploys shared TRE Python library to CodeArtifact | [upload-python-package-to-codeartifcat.yml](https://github.com/nationalarchives/tre-lib-event-library/blob/main/.github/workflows/upload-python-package-to-codeartifcat.yml) |
| [tre-lib-s3-library](https://github.com/nationalarchives/tre-lib-s3-library) | Deploys shared S3 helper Python library to CodeArtifact | [upload-python-package-to-codeartifcat.yml](https://github.com/nationalarchives/tre-lib-s3-library/blob/main/.github/workflows/upload-python-package-to-codeartifcat.yml) |
| [tre-github-actions](https://github.com/nationalarchives/tre-github-actions) | Reusable GitHub actions| [actions/docker-build-and-deploy-to-ecr](https://github.com/nationalarchives/tre-github-actions/tree/main/.github)<br>[actions/get-aws-codeartifact-pip-url](https://github.com/nationalarchives/tre-github-actions/tree/main/.github/actions/get-aws-codeartifact-pip-url)<br>[actions/get-next-version](https://github.com/nationalarchives/tre-github-actions/tree/main/.github/actions/get-next-version)<br>[workflows/docker-build-and-ecr-deploy.yml](https://github.com/nationalarchives/tre-github-actions/blob/main/.github/workflows/docker-build-and-ecr-deploy.yml)<br>[tf-plan-approve-apply.yml](https://github.com/nationalarchives/tre-github-actions/blob/main/.github/workflows/tf-plan-approve-apply.yml) |
